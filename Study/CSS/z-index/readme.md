### 层叠上下文

我们假定用户正面向（浏览器）视窗或网页，而 HTML 元素沿着其相对于用户的一条虚构的 z 轴排开，层叠上下文是包含HTML元素的一块区域，通过对比层叠上下文的层叠等级，哪个层叠上下文的等级越高，哪个就离用户“越近”。



以下情况会创建层叠上下文

1: HTML根元素
2: position不为static且z-index不为auto的元素
3: flex元素的子元素,且子元素z-index 值不为 auto, 子元素会创建层叠上下文
4: grid (grid) 容器的子元素，且 z-index 值不为 auto， 子元素会创建层叠上下文
5: opacity 属性值小于 1 的元素
6: transform不为none的元素


### 比较规则

1: 处在同一个层叠上下文，通过层叠顺序(.jpg)比较即可。
2: 不在同一个层叠上下文，则往上找到和该元素处在同一层叠上下文的父级元素比较层叠顺序。

3: 当两个元素层叠等级相同、层叠顺序相同时，在DOM结构中后面的元素层叠等级在前面元素之上。
